# Blazor Frontend for DND Course Project

## ‚ö†Ô∏è Quick Note: Notification Feature is in Development üß™
The notification feature is currently **in development** and may not be included in the final project.

The Blazor WebServer creates the front end for the DND Course Project, providing a user interface for managing waste reports, user authentication, recycling tips, and adding sustainability goals. Below is a summary of the features implemented, as well as instructions for setting up and running the project.

## Table of Contents
- [Project Overview](#project-overview)
- [Key Requirements and Implementation](#key-requirements-and-implementation)
- [Pages Overview](#pages-overview)
- [Frontend and Backend Integration](#frontend-and-backend-integration)
- [Component Structure](#component-structure)
- [Usage](#usage)

## Project Overview

The Blazor front end connects to a backend API that manages waste report data and user authentication. The application allows users to view, add, and configure waste reports, and access other related features in a structured, user-friendly interface.

## Key Requirements and Implementation

- **Waste Report Management**
  - Implements features for adding, viewing, editing, and deleting waste reports.
  - **Code Example:**

    ```razor
    @page "/wastereport"
    @inject HttpClient Http

    <button @onclick="OpenNewReportModal">New Waste Report</button>

    <table>
      @foreach (var report in wasteReports)
      {
          <tr>
              <td>@report.Type</td>
              <td>@report.Amount</td>
              <td><button @onclick="() => EditReport(report)">Edit</button></td>
              <td><button @onclick="() => DeleteReport(report.Id)">Delete</button></td>
          </tr>
      }
    </table>
    ```

- **Notifications (In Development)**
  - Fetches unread notifications and allows users to mark them as read or clear all.
  - **Code Example:**

    ```razor
    @page "/notifications"
    <button @onclick="ClearAllNotifications">Clear All</button>

    <div>
      @foreach (var notification in notifications)
      {
          <div>@notification.Message</div>
      }
    </div>
    ```

## Pages Overview

- **Home (`Home.razor`)**  
  The main dashboard page providing an overview of key metrics and navigation options.
- **Landing Page (`LandingPage.razor`)**  
  The entry page for the application with access to login and registration options.
- **Login (`Login.razor`)**  
  Enables users to sign in.
- **Register (`Register.razor`)**  
  Allows new users to create an account.
- **Waste Analytics (`WasteAnalytics.razor`)**  
  Displays waste data analytics and visualizations.

## Frontend and Backend Integration

The frontend communicates with the backend API for:
- **User Authentication**: Registers and authorizes users through forms on `Login` and `Register` pages.
- **Waste Reports**: Fetches, creates, updates, and deletes waste reports.
- **Notifications**: Fetches unread notifications and updates their read status.

### Code Example: Frontend-Backend Connection

- **Making API Calls**

    ```csharp
    private async Task LoadWasteReports()
    {
        wasteReports = await Http.GetFromJsonAsync<List<WasteReport>>("api/wastereports");
    }
    ```

    - **Explanation**: This example shows how the frontend calls the backend API to load waste reports. The `HttpClient` is injected into the component and used to make asynchronous requests to the API endpoint.

## Component Structure

### Components
  - **Notification Dropdown (`NotificationDropdown.razor`)**  
    Displays unread notifications, a clear-all option, and a settings button for managing notifications.

### Layout
  - **Main Layout (`MainLayout.razor`)**  
    Defines the structure of the main page, including a sidebar and navigation bar.
  - **Empty Layout (`EmptyLayout.razor`)**
    - A minimal layout for pages that do not require the standard sidebar and navigation, useful for login or error pages.
  - **Navigation Menu (`NavMenu.razor`)**
    - Contains the sidebar navigation links to access different sections of the application.

### Modals
  - **New Waste Report Modal (`NewWasteReportModal.razor`)**  
    Allows users to submit a new waste report with input fields for various details.

## Usage

- **Register or Login**  
  - At the root route, use the Register or Login buttons to navigate to the forms.
- **Managing Waste Reports**  
  - Click the "New Waste Report" button to add a new report. Edit or delete entries using buttons in the waste report table.
- **Viewing Notifications**  
  - Click the bell icon to view unread notifications, clear notifications, and adjust preferences in the settings modal.
